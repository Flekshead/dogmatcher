{% extends "layout.html" %}

{% block title %}
    Survey
{% endblock %}

{% block main %}
    <h1>SURVEY</h1>

    <div class="container-fluid justified width-var">
        <form action="/survey" method="post" name="myForm" onsubmit="return validateForm()">
            <div class="tab" id="tab1">
                <h3 style="text-align:center">Physical Attributes</h3>
                <br>
                <div class="question">
                    <p>What kind of home do you have?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="home" value=5>Small apartment</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="home" value=4>Medium - large apartment</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="home" value=3>Small house with no yard</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="home" value=2>Medium house with some yard</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="home" value=1>Large house with large yard</label>
                    </div>
                </div>
                <div class="question">
                    <p>Is anyone in your household allergic to dogs?</p>
                    <div class="form-check form-check-inline">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="allergies" value="Y">Yes</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="allergies" value="N">No</label>
                    </div>
                </div>
                <div class="question">
                    <p>If your household has children (or visiting children), how old is the youngest?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="kids" value=5>0-3 years old</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="kids" value=4>3-8 years old</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="kids" value=3>8-15 years old</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="kids" value=2>15+ years old</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="kids" value=1>No kids</label>
                    </div>
                </div>
                <div class="q">
                    <div class="question">
                        <p>How would you feel about dog hair on your clothes/furniture? <br>
                            (1-<span style="font-weight:normal">no thank you,</span> 5-<span style="font-weight:normal">dog hair, don't care</span>):</p>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="shedding" value=1>1</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="shedding" value=2>2</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="shedding" value=3>3</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="shedding" value=4>4</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="shedding" value=5>5</label>
                        </div>
                    </div>
                    <div class="question">
                        <p>How would you feel about stepping on some dog drool? <br>
                            (1-<span style="font-weight:normal">might barf,</span> 5-<span style="font-weight:normal">wouldn't even notice</span>):</p>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="drooling" value=1>1</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="drooling" value=2>2</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="drooling" value=3>3</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="drooling" value=4>4</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="drooling" value=5>5</label>
                        </div>
                    </div>
                    <div class="question">
                        <p>How much time/resources do you have for hair brushing and grooming? <br>
                            (1-<span style="font-weight:normal">ain't nobody got time for dat,</span> 5-<span style="font-weight:normal">happy to do what's necessary</span>):</p>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="grooming" value=1>1</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="grooming" value=2>2</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="grooming" value=3>3</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="grooming" value=4>4</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input class="form-check-input" type="radio" name="grooming" value=5>5</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab" id="tab2">
                <h3 id="top" style="text-align:center">Behavioral Attributes</h3>
                <div class="question">
                    <p>Have you had dogs before?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="experience" value=1>No previous dogs</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="experience" value=2>I've had a dog or two before</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="experience" value=3>I don't know life without dogs</label>
                    </div>
                </div>
                <div class="question">
                    <p>How much daily time can you dedicate to training a dog?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="train_time" value=1>I don't have any time to spare for training</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="train_time" value=2>10-30 minutes per day</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="train_time" value=3>30-60 minutes per day</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="train_time" value=4>1 hour+ per day</label>
                    </div>
                </div>
                <div class="question">
                    <p>How much daily time can you provide to walking a dog (<span style="font-weight:normal">hired dog walkers included</span>)?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="walk_time" value=1>I don't have much time/money to spare for walking</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="walk_time" value=2>20-45 minutes per day</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="walk_time" value=3>45-90 minutes per day</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="walk_time" value=4>1.5 hours+ per day</label>
                    </div>
                </div>
                <div class="question">
                    <p>What is your outdoor exercise/activity level?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="activity" value=1>From the living room to the kitchen</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="activity" value=2>I enjoy a nice walk outside</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="activity" value=3>I jog/run/bike/sport 1-3 times per week</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="activity" value=4>I may as well be homeless</label>
                    </div>
                </div>
                <div class="question">
                    <p>What is your reaction when stuck behind a slow driver?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="reactivity" value=1>Doesn't bother me a bit</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="reactivity" value=2>Slightly annoyed but I tell myself it's my grandma driving</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="reactivity" value=3>Honk, curse, repeat</label>
                    </div>
                </div>
                <div class="question">
                    <p>Do you enjoy solving puzzles?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="patience1" value=1>They're the worst</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="patience1" value=2>I enjoy an occasional puzzle</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="patience1" value=3>I can spend hours on them</label>
                    </div>
                </div>
                <div class="question">
                    <p>What do you do when someone close is telling you a story they've told before?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="patience2" value=1>Immediately cut them off to let them know</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="patience2" value=2>Tolerate the story but tell them you've heard it before</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="patience2" value=3>Just listen to the story</label>
                    </div>
                </div>
                <div class="question">
                    <p>How long would a dog in your household be left alone for?</p>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="time_alone" value=1>0-3 hours/day</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="time_alone" value=2>3-6 hours/day</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="time_alone" value=3>6-9 hours/day</label>
                    </div>
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="radio" name="time_alone" value=4>9+ hours/day</label>
                    </div>
                </div>
            </div>
            <div style="float:right">
                <button type="button" id="previous">Previous</button>
                <button type="button" id="next">Next</button>
                <button type="submit" id="submit" style="background-color:grey">Submit</button>
            </div>
        </form>
    </div>
    <script>
        // Set current tab to first one
        current = 0;
        show_tab(current);

        // Function to show correct tab/buttons
        function show_tab(n){
            if (n == 0)
            {
                document.querySelector('#tab1').style.display = 'block';
                document.querySelector('#next').style.display = 'block';
                document.querySelector('#previous').style.display = 'none';
                document.querySelector('#submit').style.display = 'none';
                document.querySelector('#tab2').style.display = 'none';
            }
            else
            {
                document.querySelector('#tab1').style.display = 'none';
                document.querySelector('#next').style.display = 'none';
                document.querySelector('#tab2').style.display = 'block';
                document.querySelector('#previous').style.display = 'inline';
                document.querySelector('#submit').style.display = 'inline';
            }
        }

        // Functions to figure which tab to show when next/previous button is clicked
        document.querySelector('#next').addEventListener('click', function(){
            if (validateForm() == true){
            current = 1;
            show_tab(current);
            document.querySelector('#top').scrollIntoView();
            }
        })
        document.querySelector('#previous').addEventListener('click', function(){
            current = 0;
            show_tab(current);
        })

        // Function to alert user to unanswered question(s)
        function validateForm(){
            // Initialize valid to false
            valid = false;
            // Query all questions in current .tab and loop through each one
            z = document.getElementsByClassName("tab");
            x = z[current].getElementsByClassName("question");
            // Set count to number of questions in current .tab
            count = x.length;
            for (i = 0; i < x.length; i++){
                // Query all inputs in question and loop through each one
                y = x[i].getElementsByTagName("input");
                for (j = 0; j < y.length; j++){
                    // If any input is checked, reset question color to black and subtract 1 from the count
                    if (y[j].checked)
                        {
                            x[i].style.color = "black";
                            count--;
                            break;
                        }
                    // Else change question color to red
                    else
                        {
                            x[i].style.color = "red";

                        }
                }
            }
            // If all questions were counted then valid is true
            if (count == 0)
            {
                valid = true;
                return true;
            }
            // If valid is stil false, alert user
            if (valid == false)
            {
                alert("Please fill out all answers ");
                return false;
            }
        }
    </script>
{% endblock %}

